// Styles for http://matthew-anderson.com

@import 'compass';
@import 'compass/reset';
@import 'susy';
@import 'framework/defaults';
@import 'framework/typography';
@import 'plugins/flexslider';

@include establish-baseline;

body {
  font-family: $default-font;
  color: $default-grey;
  text-rendering: optimizeSpeed;
}

a {
  color: $default-grey;
  text-decoration: none;
  @include transition;
  &:hover { color: $primary; }
}

.wrapper { // Build containers for all of the breakpoints.
  @include container($total-columns, $tablet-break $tablet-columns, $desktop-break $desktop-columns, $widescreen-break $widescreen-columns);
}

.monogram {
  display: block;
  @include leader(2);
  @include trailer(2);
  h1 {
    background: url('../images/monogram.png') no-repeat;
    @include background-size(auto 50px);
    @include adjust-leading-to(2);
    text-indent: -9999px;
    height: 50px;
  }
}

.work {
  background: $off-white;
  @include box-shadow(inset 0 0 3px rgba(0, 0, 0, .3));
  display: none;
  margin: (0 - ($grid-padding / 2)) 0 - $grid-padding 0 0 - $grid-padding;
  margin: 0 0 - $grid-padding;
  padding: $grid-padding;
  @include trailer;
  a {
    @include adjust-font-size-to(17px);
    font-family: $custom-font-regular $default-font;
  }
}

#back-to-top { display: none; }

article {
  @include trailer(2);
  p {
    color: $medium-grey;
    font-weight: 300;
  }
  a {
    color: $dark-grey;
    font-weight: 300;
  }
}

.loading {
  @include background(url('../images/monogram.png') no-repeat 50%, linear-gradient(135deg, $off-white 25%, white 25%, white 50%, $off-white 50%, $off-white 75%, white 75%));
  @include background-size(auto 50px, $grid-padding $grid-padding);
  min-height: 238px;
}

.flexslider { margin: 0 0 - $grid-padding 0 0 - $grid-padding; }

aside {
  padding: $grid-padding 0 $grid-padding * 2 0;
  h1 {
    @include adjust-font-size-to(20px);
    color: $dark-grey;
    font-family: $custom-font-regular $default-font;
  }
  p {
    @include adjust-font-size-to(13px);
    span { white-space: nowrap; }
  }
  .button { display: none; }
}

footer {
  background-color: $off-white;
  clear: both;
  margin: 0 0 -$grid-padding;
  text-align: center;
  p {
    @include adjust-font-size-to(13px);
    color: $light-grey;
    padding: $grid-padding;
  }
}

.button {
  background-color: rgba(0, 0, 0, .05);
  @include adjust-font-size-to(13px);
  border: 1px solid rgba(0, 0, 0, .1);
  @include border-radius(4px);
  color: #aaa;
  font-weight: 700;
  @include inline-block;
  padding: 4px 12px;
  @include text-shadow(0 1px #fff);
  @include transition(none);
  &:hover {
    background-color: rgba(0, 0, 0, .1);
    color: #777;
  }
  &:active {
    border-color: rgba(0, 0, 0, .2);
    @include box-shadow(inset 0 1px 2px rgba(0, 0, 0, .2));
  }
}

@include at-breakpoint($tablet-break $tablet-columns) {
  #back-to-top.available { @include inline-block; }
  article {
    margin: 0;
    @include trailer(2);
    p {
      @include adjust-font-size-to($base-font-size * 2, 1.5);
      font-family: $custom-font-light;
    }
  }
  section {
    @include span-columns(8 omega, $tablet-columns);
    @include trailer(2);
  }
  .loading { min-height: 337px; }
  .flexslider {
    @include span-columns(5, 8);
    width: columns(5, 8) + (columns(5, 8) / 20);
  }
  aside {
    padding: 0;
    @include span-columns(3 omega, 8);
    h1 {
      @include adjust-leading-to(2);
      color: $dark-grey;
    }
  }
}

@include at-breakpoint($desktop-break $desktop-columns) {
  body { text-rendering: optimizeLegibility; }
  .menu {
    bottom: $grid-padding;
    @include span-columns(2, $desktop-columns);
    position: fixed;
    top: 0;
    .work {
      display: block;
      background: none;
      @include box-shadow(none);
      margin: 0;
      padding: 0;
    }
  }
  #back-to-top {
    bottom: -9px;
    position: absolute;
  }
  article {
    background-color: $off-white;
    @include padding-leader(6);
    @include push(2, $desktop-columns);
    @include span-columns(7, $desktop-columns);
    text-shadow: 0 1px rgba(255, 255, 255, .6);
    p {
      @include adjust-font-size-to($base-font-size * 1.35, 1.5);
      padding: 0 $grid-padding;
      @include trailer;
    }
  }
  section { @include span-columns(10 omega, $desktop-columns); }
  .loading { min-height: 410px; }
  .flexslider {
    margin-left: auto;
    margin-bottom: $grid-padding;
    @include span-columns(7, 10);
  }
  aside {
    @include span-columns(3 omega, 10);
    p { @include trailer; }
    .button { @include inline-block; }
  }
  footer {
    @include push(2, $desktop-columns);
    @include span-columns(7, $desktop-columns);
  }
}

@include at-breakpoint(1280px $desktop-columns) {
  article p { @include adjust-font-size-to($base-font-size * 1.7, 1.5); }
  .loading { min-height: 519px; }
}

@include at-breakpoint($widescreen-break $widescreen-columns) {
  .wrapper { max-width: 1600px; }
  .menu { @include span-columns(2, $widescreen-columns); }
  article {
    @include push(2, $widescreen-columns);
    @include span-columns(11, $widescreen-columns);
    p { @include adjust-font-size-to($base-font-size * 2.25, 2); }
  }
  section { @include span-columns(14 omega, $widescreen-columns); }
  .loading { min-height: 700px; }
  .flexslider { @include span-columns(11, 14); }
  aside { @include span-columns(3 omega, 14); }
  footer {
    @include push(2, $widescreen-columns);
    @include span-columns(11, $widescreen-columns);
  }
}